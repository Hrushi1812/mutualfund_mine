{
  "meta": {
    "project": "Mutual Fund P&L Estimator",
    "date": "2025-12-10",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "Mutual Fund P&L Estimator is a personal financial tool designed to provide early-day profit and loss estimates for mutual fund investments. It accepts mutual fund holdings Excel files and user investment inputs to calculate an estimated NAV and portfolio value based on live stock prices, delivering near real-time insights without waiting for official NAV updates.",
  "core_goals": [
    "Enable users to upload mutual fund holdings in Excel format for parsing and analysis.",
    "Provide accurate, early-day estimation of NAV and daily P&L using live stock price data.",
    "Support both lumpsum and SIP investment modes, with an initial focus on lumpsum.",
    "Allow users to manage and view portfolio details including funds, investment dates, and amounts.",
    "Present detailed portfolio analysis and P&L metrics to help users track investment performance.",
    "Implement secure user authentication and data protection mechanisms.",
    "Design the system for easy future scalability and migration from MongoDB to PostgreSQL for data integrity.",
    "Deliver a responsive and user-friendly frontend with smooth navigation and modern UI components."
  ],
  "key_features": [
    "User Registration, Login, and JWT-based Authentication with protected routes.",
    "Interactive Marketing Landing Page showcasing features and usage workflow.",
    "Portfolio Upload supporting Excel file input with fund name ambiguity resolution.",
    "Fund List and Management including portfolio overview, fund deletion, and stale data indicators.",
    "Portfolio Analysis with NAV estimation, profit/loss calculations, and detailed modal views.",
    "Live NAV Estimation service integrating with external APIs like yfinance and handling date-specific NAV logic.",
    "React Router-based client-side routing with protected route handling.",
    "Reusable UI components including buttons and glass cards for consistent design.",
    "API client with automatic JWT token handling for secure backend communication.",
    "Backend services implemented with Python FastAPI and MongoDB for storage.",
    "Docker-based deployment setup for easy development and production environments."
  ],
  "user_flow_summary": [
    "User visits the landing page to learn about the product and its benefits.",
    "User registers or logs in to access the dashboard and portfolio management features.",
    "User uploads mutual fund holdings Excel file with investment amount and date input.",
    "System parses the uploaded file, fetches live stock prices, and calculates estimated NAV and P&L.",
    "User views portfolio overview and individual funds with detailed analysis on demand.",
    "User can manage funds by deleting stale entries or resolving ambiguous fund names via modals.",
    "User logs out securely, with token management ensuring session protection."
  ],
  "validation_criteria": [
    "Accurate parsing of Excel files and correct extraction of necessary columns and data fields.",
    "Correct integration with live stock price APIs to fetch up-to-date prices consistently.",
    "Reliable calculation of current NAV estimates and P&L metrics matching expected financial logic.",
    "Secure user authentication flow with JWT handling and route protection.",
    "Smooth UI/UX interactions including file uploads, modals, and navigation transitions.",
    "Data persistence and retrieval work correctly with MongoDB as per schema definitions.",
    "API endpoints operate within acceptable response times and handle errors gracefully.",
    "System correctly supports lumpsum investment mode with readiness for SIP mode extension."
  ],
  "code_summary": {
    "tech_stack": [
      "JavaScript",
      "React",
      "Vite",
      "TailwindCSS",
      "Framer Motion",
      "Axios",
      "React Router",
      "Python",
      "FastAPI",
      "MongoDB",
      "JWT Authentication",
      "Pydantic",
      "Docker"
    ],
    "features": [
      {
        "name": "User Authentication",
        "description": "Complete user authentication system with registration, login, logout functionality using JWT tokens. Includes protected routes and automatic token management.",
        "files": [
          "frontend/src/context/AuthContext.jsx",
          "frontend/src/pages/LoginPage.jsx",
          "frontend/src/pages/RegisterPage.jsx",
          "frontend/src/components/ProtectedRoute.jsx",
          "backend/routes/auth.py",
          "backend/services/auth_service.py"
        ]
      },
      {
        "name": "Landing Page",
        "description": "Marketing landing page with Hero section, Features showcase, How It Works section, Demo section, and Call-to-Action. Includes smooth scrolling with Lenis library.",
        "files": [
          "frontend/src/components/home/LandingPage.jsx",
          "frontend/src/components/home/Hero.jsx",
          "frontend/src/components/home/Features.jsx",
          "frontend/src/components/home/HowItWorks.jsx",
          "frontend/src/components/home/DemoSection.jsx",
          "frontend/src/components/home/CTA.jsx",
          "frontend/src/components/home/ThreeDElement.jsx"
        ]
      },
      {
        "name": "Portfolio Upload",
        "description": "Upload mutual fund holdings via Excel files (.xls, .xlsx). Supports both lumpsum and SIP investment modes with date and amount input. Handles ambiguous fund name resolution with modal selection.",
        "files": [
          "frontend/src/components/dashboard/UploadHoldings.jsx",
          "backend/routes/holdings.py",
          "backend/services/holdings_service.py"
        ]
      },
      {
        "name": "Fund List & Management",
        "description": "Display user's uploaded portfolios with fund name, nickname, invested amount, and date. Supports fund deletion and stale data indicators. Click to analyze individual funds.",
        "files": [
          "frontend/src/components/dashboard/FundList.jsx",
          "frontend/src/context/PortfolioContext.jsx",
          "backend/routes/holdings.py"
        ]
      },
      {
        "name": "Portfolio Analysis",
        "description": "Analyze portfolio performance with NAV estimation, P&L calculations, and investment tracking. Modal-based detailed analysis view.",
        "files": [
          "frontend/src/components/dashboard/PortfolioAnalyzer.jsx",
          "backend/routes/portfolio.py",
          "backend/services/nav_service.py",
          "backend/nav_logic.py"
        ]
      },
      {
        "name": "Dashboard",
        "description": "Main authenticated user dashboard displaying portfolio overview, upload functionality, and fund list. Includes header with user info and logout.",
        "files": [
          "frontend/src/pages/Dashboard.jsx",
          "frontend/src/components/dashboard/UploadHoldings.jsx",
          "frontend/src/components/dashboard/FundList.jsx"
        ]
      },
      {
        "name": "NAV Estimation",
        "description": "NAV (Net Asset Value) estimation service that calculates current NAV values for mutual funds and handles weekend/holiday NAV logic.",
        "files": [
          "backend/services/nav_service.py",
          "backend/nav_logic.py",
          "backend/utils/date_utils.py",
          "frontend/src/components/dashboard/NavEstimator.jsx"
        ]
      },
      {
        "name": "Layout Components",
        "description": "Shared layout components including navigation bar and footer used across pages.",
        "files": [
          "frontend/src/components/layout/Navbar.jsx",
          "frontend/src/components/layout/Footer.jsx"
        ]
      },
      {
        "name": "UI Components",
        "description": "Reusable UI components including styled buttons and glass-morphism cards for consistent design.",
        "files": [
          "frontend/src/components/ui/Button.jsx",
          "frontend/src/components/ui/GlassCard.jsx"
        ]
      },
      {
        "name": "API Client",
        "description": "Axios-based API client with automatic JWT token injection via request interceptors for authenticated API calls.",
        "files": [
          "frontend/src/api.js"
        ]
      },
      {
        "name": "Database Layer",
        "description": "MongoDB database connection and schema definitions for users, holdings, and funds.",
        "files": [
          "backend/db.py",
          "backend/models/db_schemas.py",
          "backend/models/schemas.py"
        ]
      },
      {
        "name": "Application Routing",
        "description": "React Router-based client-side routing with protected route handling for authenticated pages.",
        "files": [
          "frontend/src/App.jsx",
          "frontend/src/components/ProtectedRoute.jsx"
        ]
      }
    ]
  }
}
